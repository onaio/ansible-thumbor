# {{ ansible_managed }}
# Thumbor systemd service config

# This file is the template config to start multiple thumbor processes,
# used by the master unit `thumbor.target`. %i reprenst the call id.
# For /etc/systemd/system/thumbor@.service

[Unit]
Description=Thumbor server process %i
PartOf=thumbor.target

[Service]
Type=simple
Restart=on-failure

User={{ thumbor_user }}
Environment="PATH={{ thumbor_virtualenv_path }}/bin:$PATH"
Environment="PYTHONPATH={{ thumbor_python_path }}"

SyslogIdentifier=thumbor-%i

ExecStart={{ thumbor_executable_path }} -p 8000 -c {{ thumbor_config_dir }}/thumbor.conf
